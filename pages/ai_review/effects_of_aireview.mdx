# AIレビューの効果

## 概要

特にソフトウェア開発の分野では、開発者がAIにコード生成やレビューを依頼することが広く行われている。このデモでは、リポジトリの特性（履歴管理）を活用して、変更箇所に対するAIによる自動レビューを実施している。

本稿では、GitLabと連携したAIレビューの実施ステップと効果について述べる。

## 実施ステップ

本リポジトリでは、以下の順書でAIレビューが実施される。

import { Steps } from 'nextra/components'

<Steps>

### 変更コードをリモートリポジトリ(GitLab)にプッシュ

### プッシュをトリガーにCI/CDパイプラインでAIレビューのジョブを自動実行

### GitLabのコンテナレジストリからopenai-reviewイメージをDLし、コンテナを実行

### コンテナ内でコード更差分を取得

### コンテナ内でコード変更差分とプロンプトをOpenAIのAPIに送信

### OpenAIにてAIレビューを実施

### コンテナ内でレビュー結果を受信し、マージリクエストに結果をポスト

</Steps>

## 実施結果例

[AIレビュー例](https://gitlab.com/taku-miyanaga/openai-review/-/merge_requests/1)
![alt](./img/ai-review-screenshot.png)

## 効果

### 品質向上

AIは継続的な品質保証を提供し、ヒューマンエラーのリスクを低減する。これは、ソフトウェアコードのバグ検出や、文書の文法・スタイルのチェックにおいて特に顕著である。

### 効率の向上

AIレビューは迅速かつ正確に作業を実行する。手動でのレビューに比べて時間を大幅に節約し、より多くのタスクを短時間で処理することが可能である。

### 一貫性の確保

AIは一定の基準に基づいて判断を行うため、レビューの一貫性が保たれる。人間のレビュアーが持つ主観やバイアスの影響を受けないため、公平かつ均一な評価が期待できる。

### 知識の蓄積と共有

AIは過去のデータから学習し、その知識を新たなケースに適用する。これにより、組織内での知識の蓄積と共有が促進される。

### 意思決定の支援

AIは複雑なデータを分析し、意思決定を支援する洞察を提供する。これにより、ビジネスや研究分野での戦略的な決定が容易になる。

### コスト削減

効率化と自動化により、人的リソースの削減や時間コストの節約が可能となる。これは、長期的なコストメリットをもたらす。

## まとめ

AIレビューは既に開発者をサポートする十分な実用レベルに達しており、開発プロセスの改善に寄与する。

また、開発速度の面でもAIレビューは改善をもたらす。

トランクベース開発に代表される昨今の迅速な開発スタイルではリリースまでの時間がシビアに要求され、前述のDoraMetrixではエリートレベルのDevOpsチームではコミットからリリースまでの時間は1時間以内と定められている。テスト〜リリースが自動化された理想的なパイプラインを組んだ場合コミット後に人の判断が必要なのはレビューのみだが、安定して1時間以内にコードレビューを実施するのは現実的に難しく、ボトルネックとなってしまっている。有識者の判断を必要としないAIレビューはボトルネックを解消をサポートし、迅速な開発を推進するための有力な方法になる。

## 今後の課題

2023年末時点でOpenAIは追加学習を許可していないため、現在のプロジェクトとの整合性や背景を加味したレビューは実施できない。この点で有識者のレビューには及ばないため、現時点では補助機能として利用となる。

今後、汎用AIでリポジトリ自体が追加学習可能となったときに備えて、コードだけではなくインフラ設定や設計書をリポジトリに格納しておくことが迅速に変化に対応していくための準備となる。
